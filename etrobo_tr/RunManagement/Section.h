/**
 *******************************************************************************
 ** 区間パラメータリストを提供する
 *******************************************************************************
 **/

#ifndef EV3_SECTION_H_
#define EV3_SECTION_H_

class Section
{
public:
    Section();
    void update(int num);
    int getSectionNum();
    float getForward();
    float getCurvature();
    void getPidParm(float pid_parm[3]);
    float getColorTarget();
    float getDistance();

private:
    int m_section_num = 0;       // 区間番号
    float m_distance;            // 区間長さ[m]
    float m_forward;             // 前進指令速度[%]
    float m_curvature;           // 曲率旋回量[m^-^]
    float m_pid_parm[3];         // PIDパラメータ
    float m_color_target = 29;        // カラーセンサの目標値


    //////////////////////////LOWパラメータ////////////////////////////
    // 前進量リスト
    float m_forward_list[15] = {105, 105, 105, 103, 95, 95, 98, 103, 105, 110, 106, 103, 100, 105, 110};

    // 曲率旋回量リスト
    float m_curvature_list[15] = {0, 10.7, 0, 10, 14.4, 14.2, 11, 0, 10, 0, 10, 0, 11, 14.1, 0};

    // PID係数リスト
    float m_trace_pid_list[15][3] = {{0.300, 0.000, 0.029},  // 0
                                     {0.460, 0.000, 0.050},  // 1
                                     {0.300, 0.000, 0.038},  // 2
                                     {0.460, 0.000, 0.050},  // 3"
                                     {0.587, 0.100, 0.078},  // 4"
                                     {0.550, 0.100, 0.074},  // 5"
                                     {0.485, 0.000, 0.063},  // 6
                                     {0.300, 0.000, 0.035},  // 7
                                     {0.470, 0.000, 0.069},  // 8"
                                     {0.300, 0.000, 0.029},  // 9
                                     {0.470, 0.000, 0.070},  // 10"
                                     {0.300, 0.000, 0.060},  // 11
                                     {0.485, 0.000, 0.065},  // 12
                                     {0.553, 0.100, 0.060},  // 13"
                                     {0.300, 0.000, 0.038}}; // 14

    // 区間終了距離（それぞれの区間がスタートから何mの地点で終わるのかをリストアップしている）
    float m_distance_list[15] = {0.60, 1.25, 1.70, 2.45, 3.32, 4.00, 4.60, 4.70, 5.53, 6.45, 7.00, 7.23, 7.58, 8.95, 9.25};
    ///////////////////////////////////////////////////////////////////

    //////////////////////////PIDのみパラメータ////////////////////////////
    // // 前進量リスト
    // float m_forward_list[15] = {105, 105, 105, 103, 95, 95, 98, 103, 105, 110, 106, 103, 100, 105, 110};

    // // 曲率旋回量リスト
    // float m_curvature_list[15] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};

    // // PID係数リスト
    // float m_trace_pid_list[15][3] = {{0.400, 0.000, 0.046},  // 0
    //                                  {0.720, 0.000, 0.067},  // 1
    //                                  {0.400, 0.000, 0.063},  // 2
    //                                  {0.600, 0.000, 0.063},  // 3"
    //                                  {0.870, 0.000, 0.083},  // 4"
    //                                  {0.798, 0.000, 0.070},  // 5"
    //                                  {0.613, 0.000, 0.062},  // 6
    //                                  {0.400, 0.000, 0.060},  // 7
    //                                  {0.530, 0.000, 0.070},  // 8"
    //                                  {0.400, 0.000, 0.060},  // 9
    //                                  {0.630, 0.000, 0.065},  // 10"
    //                                  {0.460, 0.000, 0.058},  // 11
    //                                  {0.789, 0.000, 0.057},  // 12
    //                                  {0.820, 0.000, 0.069},  // 13"
    //                                  {0.400, 0.000, 0.063}}; // 14

    // // 区間終了距離（それぞれの区間がスタートから何mの地点で終わるのかをリストアップしている）
    // float m_distance_list[15] = {0.60, 1.25, 1.70, 2.45, 3.32, 4.00, 4.60, 4.70, 5.53, 6.45, 7.00, 7.24, 7.58, 8.95, 9.25};
    // ///////////////////////////////////////////////////////////////////



    // //////////////////////////HIGHパラメータ////////////////////////////

    // // // 前進量リスト
    // // float m_forward_list[15] = {110, 115, 113, 105, 100, 105, 110, 113, 116, 120, 115, 115, 115, 116, 120};

    // // // 曲率旋回量リスト
    // // float m_curvature_list[5] = {0, 10.3, 11.4, 15.6, 10};

    // // // PID係数リスト
    // // float m_trace_pid_list[5][3] = {{0.330, 0.000, 0.025},
    // //                                 {0.465, 0.000, 0.036},
    // //                                 {0.515, 0.000, 0.040},
    // //                                 {0.570, 0.000, 0.045},
    // //                                 {0.500, 0.000, 0.039}};

    // // // 区間終了距離（それぞれの区間がスタートから何mの地点で終わるのかをリストアップしている）
    // // float m_distance_list[15] = {0.60, 1.24, 1.68, 2.43, 3.32, 4.00, 4.60, 4.69, 5.56, 6.45, 7.01, 7.25, 7.53, 8.95, 9.25};
    // // // float m_distance_list[15] = {0.60, 1.25, 1.70, 2.45, 3.30, 4.00, 4.60, 4.70, 5.55, 6.45, 7.00, 7.05, 7.60, 8.95, 0.3};

    // // // 曲率分類リスト（それぞれの区間がその曲率分類に属しているかをリストアップしている）
    // // int m_is_curve_list[15] = {0, 2, 0, 1, 3, 3, 2, 0, 1, 0, 1, 4, 2, 3, 0}; 

    ///////////////////////////////////////////////////////////////////
};

#endif